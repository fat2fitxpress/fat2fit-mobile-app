{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":39,"index":188}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isProfileComplete = isProfileComplete;\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  function isProfileComplete(u) {\n    if (!u) return false;\n    return !!(u.age && u.height_cm && u.weight_kg && u.gender && u.goal);\n  }\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    async function checkAuth() {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          const userData = await (0, _utilsApi.apiCall)('/auth/me');\n          setUser(userData);\n        }\n      } catch {\n        await AsyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function login(email, password) {\n      const data = await (0, _utilsApi.apiCall)('/auth/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      await AsyncStorage.default.setItem('auth_token', data.token);\n      setUser(data.user);\n    }\n    async function signup(name, email, password) {\n      const data = await (0, _utilsApi.apiCall)('/auth/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          name,\n          email,\n          password\n        })\n      });\n      await AsyncStorage.default.setItem('auth_token', data.token);\n      setUser(data.user);\n    }\n    async function logout() {\n      await AsyncStorage.default.removeItem('auth_token');\n      setUser(null);\n    }\n    async function refreshUser() {\n      try {\n        const userData = await (0, _utilsApi.apiCall)('/auth/me');\n        setUser(userData);\n      } catch {}\n    }\n    const profileComplete = isProfileComplete(user);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        profileComplete,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  }\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":110,"map":[[15,2,17,0,"exports"],[15,9,17,0],[15,10,17,0,"isProfileComplete"],[15,27,17,0],[15,30,17,0,"isProfileComplete"],[15,47,17,0],[16,2,34,0,"exports"],[16,9,34,0],[16,10,34,0,"AuthProvider"],[16,22,34,0],[16,25,34,0,"AuthProvider"],[16,37,34,0],[17,2,95,0,"exports"],[17,9,95,0],[17,10,95,0,"useAuth"],[17,17,95,0],[17,20,95,0,"useAuth"],[17,27,95,0],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_utilsApi"],[21,15,3,0],[21,18,3,0,"require"],[21,25,3,0],[21,26,3,0,"_dependencyMap"],[21,40,3,0],[22,2,3,39],[22,6,3,39,"_reactJsxDevRuntime"],[22,25,3,39],[22,28,3,39,"require"],[22,35,3,39],[22,36,3,39,"_dependencyMap"],[22,50,3,39],[23,2,17,7],[23,11,17,16,"isProfileComplete"],[23,28,17,33,"isProfileComplete"],[23,29,17,34,"u"],[23,30,17,48],[23,32,17,59],[24,4,18,2],[24,8,18,6],[24,9,18,7,"u"],[24,10,18,8],[24,12,18,10],[24,19,18,17],[24,24,18,22],[25,4,19,2],[25,11,19,9],[25,12,19,10],[25,14,19,12,"u"],[25,15,19,13],[25,16,19,14,"age"],[25,19,19,17],[25,23,19,21,"u"],[25,24,19,22],[25,25,19,23,"height_cm"],[25,34,19,32],[25,38,19,36,"u"],[25,39,19,37],[25,40,19,38,"weight_kg"],[25,49,19,47],[25,53,19,51,"u"],[25,54,19,52],[25,55,19,53,"gender"],[25,61,19,59],[25,65,19,63,"u"],[25,66,19,64],[25,67,19,65,"goal"],[25,71,19,69],[25,72,19,70],[26,2,20,0],[27,2,32,0],[27,8,32,6,"AuthContext"],[27,19,32,17],[27,35,32,20],[27,39,32,20,"createContext"],[27,45,32,33],[27,46,32,33,"createContext"],[27,59,32,33],[27,61,32,51],[27,62,32,52],[27,63,32,72],[27,64,32,73],[28,2,34,7],[28,11,34,16,"AuthProvider"],[28,23,34,28,"AuthProvider"],[28,24,34,29],[29,4,34,31,"children"],[30,2,34,71],[30,3,34,72],[30,5,34,74],[31,4,34,74,"_s"],[31,6,34,74],[32,4,35,2],[32,10,35,8],[32,11,35,9,"user"],[32,15,35,13],[32,17,35,15,"setUser"],[32,24,35,22],[32,25,35,23],[32,28,35,26],[32,32,35,26,"useState"],[32,38,35,34],[32,39,35,34,"useState"],[32,47,35,34],[32,49,35,48],[32,53,35,52],[32,54,35,53],[33,4,36,2],[33,10,36,8],[33,11,36,9,"loading"],[33,18,36,16],[33,20,36,18,"setLoading"],[33,30,36,28],[33,31,36,29],[33,34,36,32],[33,38,36,32,"useState"],[33,44,36,40],[33,45,36,40,"useState"],[33,53,36,40],[33,55,36,41],[33,59,36,45],[33,60,36,46],[34,4,38,2],[34,8,38,2,"useEffect"],[34,14,38,11],[34,15,38,11,"useEffect"],[34,24,38,11],[34,26,38,12],[34,32,38,18],[35,6,39,4,"checkAuth"],[35,15,39,13],[35,16,39,14],[35,17,39,15],[36,4,40,2],[36,5,40,3],[36,7,40,5],[36,9,40,7],[36,10,40,8],[37,4,42,2],[37,19,42,17,"checkAuth"],[37,28,42,26,"checkAuth"],[37,29,42,26],[37,31,42,29],[38,6,43,4],[38,10,43,8],[39,8,44,6],[39,14,44,12,"token"],[39,19,44,17],[39,22,44,20],[39,28,44,26,"AsyncStorage"],[39,40,44,38],[39,41,44,38,"default"],[39,48,44,38],[39,49,44,39,"getItem"],[39,56,44,46],[39,57,44,47],[39,69,44,59],[39,70,44,60],[40,8,45,6],[40,12,45,10,"token"],[40,17,45,15],[40,19,45,17],[41,10,46,8],[41,16,46,14,"userData"],[41,24,46,22],[41,27,46,25],[41,33,46,31],[41,37,46,31,"apiCall"],[41,46,46,38],[41,47,46,38,"apiCall"],[41,54,46,38],[41,56,46,39],[41,66,46,49],[41,67,46,50],[42,10,47,8,"setUser"],[42,17,47,15],[42,18,47,16,"userData"],[42,26,47,24],[42,27,47,25],[43,8,48,6],[44,6,49,4],[44,7,49,5],[44,8,49,6],[44,14,49,12],[45,8,50,6],[45,14,50,12,"AsyncStorage"],[45,26,50,24],[45,27,50,24,"default"],[45,34,50,24],[45,35,50,25,"removeItem"],[45,45,50,35],[45,46,50,36],[45,58,50,48],[45,59,50,49],[46,6,51,4],[46,7,51,5],[46,16,51,14],[47,8,52,6,"setLoading"],[47,18,52,16],[47,19,52,17],[47,24,52,22],[47,25,52,23],[48,6,53,4],[49,4,54,2],[50,4,56,2],[50,19,56,17,"login"],[50,24,56,22,"login"],[50,25,56,23,"email"],[50,30,56,36],[50,32,56,38,"password"],[50,40,56,54],[50,42,56,56],[51,6,57,4],[51,12,57,10,"data"],[51,16,57,14],[51,19,57,17],[51,25,57,23],[51,29,57,23,"apiCall"],[51,38,57,30],[51,39,57,30,"apiCall"],[51,46,57,30],[51,48,57,31],[51,61,57,44],[51,63,57,46],[52,8,58,6,"method"],[52,14,58,12],[52,16,58,14],[52,22,58,20],[53,8,59,6,"body"],[53,12,59,10],[53,14,59,12,"JSON"],[53,18,59,16],[53,19,59,17,"stringify"],[53,28,59,26],[53,29,59,27],[54,10,59,29,"email"],[54,15,59,34],[55,10,59,36,"password"],[56,8,59,45],[56,9,59,46],[57,6,60,4],[57,7,60,5],[57,8,60,6],[58,6,61,4],[58,12,61,10,"AsyncStorage"],[58,24,61,22],[58,25,61,22,"default"],[58,32,61,22],[58,33,61,23,"setItem"],[58,40,61,30],[58,41,61,31],[58,53,61,43],[58,55,61,45,"data"],[58,59,61,49],[58,60,61,50,"token"],[58,65,61,55],[58,66,61,56],[59,6,62,4,"setUser"],[59,13,62,11],[59,14,62,12,"data"],[59,18,62,16],[59,19,62,17,"user"],[59,23,62,21],[59,24,62,22],[60,4,63,2],[61,4,65,2],[61,19,65,17,"signup"],[61,25,65,23,"signup"],[61,26,65,24,"name"],[61,30,65,36],[61,32,65,38,"email"],[61,37,65,51],[61,39,65,53,"password"],[61,47,65,69],[61,49,65,71],[62,6,66,4],[62,12,66,10,"data"],[62,16,66,14],[62,19,66,17],[62,25,66,23],[62,29,66,23,"apiCall"],[62,38,66,30],[62,39,66,30,"apiCall"],[62,46,66,30],[62,48,66,31],[62,62,66,45],[62,64,66,47],[63,8,67,6,"method"],[63,14,67,12],[63,16,67,14],[63,22,67,20],[64,8,68,6,"body"],[64,12,68,10],[64,14,68,12,"JSON"],[64,18,68,16],[64,19,68,17,"stringify"],[64,28,68,26],[64,29,68,27],[65,10,68,29,"name"],[65,14,68,33],[66,10,68,35,"email"],[66,15,68,40],[67,10,68,42,"password"],[68,8,68,51],[68,9,68,52],[69,6,69,4],[69,7,69,5],[69,8,69,6],[70,6,70,4],[70,12,70,10,"AsyncStorage"],[70,24,70,22],[70,25,70,22,"default"],[70,32,70,22],[70,33,70,23,"setItem"],[70,40,70,30],[70,41,70,31],[70,53,70,43],[70,55,70,45,"data"],[70,59,70,49],[70,60,70,50,"token"],[70,65,70,55],[70,66,70,56],[71,6,71,4,"setUser"],[71,13,71,11],[71,14,71,12,"data"],[71,18,71,16],[71,19,71,17,"user"],[71,23,71,21],[71,24,71,22],[72,4,72,2],[73,4,74,2],[73,19,74,17,"logout"],[73,25,74,23,"logout"],[73,26,74,23],[73,28,74,26],[74,6,75,4],[74,12,75,10,"AsyncStorage"],[74,24,75,22],[74,25,75,22,"default"],[74,32,75,22],[74,33,75,23,"removeItem"],[74,43,75,33],[74,44,75,34],[74,56,75,46],[74,57,75,47],[75,6,76,4,"setUser"],[75,13,76,11],[75,14,76,12],[75,18,76,16],[75,19,76,17],[76,4,77,2],[77,4,79,2],[77,19,79,17,"refreshUser"],[77,30,79,28,"refreshUser"],[77,31,79,28],[77,33,79,31],[78,6,80,4],[78,10,80,8],[79,8,81,6],[79,14,81,12,"userData"],[79,22,81,20],[79,25,81,23],[79,31,81,29],[79,35,81,29,"apiCall"],[79,44,81,36],[79,45,81,36,"apiCall"],[79,52,81,36],[79,54,81,37],[79,64,81,47],[79,65,81,48],[80,8,82,6,"setUser"],[80,15,82,13],[80,16,82,14,"userData"],[80,24,82,22],[80,25,82,23],[81,6,83,4],[81,7,83,5],[81,8,83,6],[81,14,83,12],[81,15,83,13],[82,4,84,2],[83,4,86,2],[83,10,86,8,"profileComplete"],[83,25,86,23],[83,28,86,26,"isProfileComplete"],[83,45,86,43],[83,46,86,44,"user"],[83,50,86,48],[83,51,86,49],[84,4,88,2],[84,24,89,4],[84,28,89,4,"_reactJsxDevRuntime"],[84,47,89,4],[84,48,89,4,"jsxDEV"],[84,54,89,4],[84,56,89,5,"AuthContext"],[84,67,89,16],[84,68,89,17,"Provider"],[84,76,89,25],[85,6,89,26,"value"],[85,11,89,31],[85,13,89,33],[86,8,89,35,"user"],[86,12,89,39],[87,8,89,41,"loading"],[87,15,89,48],[88,8,89,50,"profileComplete"],[88,23,89,65],[89,8,89,67,"login"],[89,13,89,72],[90,8,89,74,"signup"],[90,14,89,80],[91,8,89,82,"logout"],[91,14,89,88],[92,8,89,90,"refreshUser"],[93,6,89,102],[93,7,89,104],[94,6,89,104,"children"],[94,14,89,104],[94,16,90,7,"children"],[95,4,90,15],[96,6,90,15,"fileName"],[96,14,90,15],[96,16,90,15,"_jsxFileName"],[96,28,90,15],[97,6,90,15,"lineNumber"],[97,16,90,15],[98,6,90,15,"columnNumber"],[98,18,90,15],[99,4,90,15],[99,11,91,26],[99,12,91,27],[100,2,93,0],[101,2,93,1,"_s"],[101,4,93,1],[101,5,34,16,"AuthProvider"],[101,17,34,28],[102,2,34,28,"_c"],[102,4,34,28],[102,7,34,16,"AuthProvider"],[102,19,34,28],[103,2,95,7],[103,11,95,16,"useAuth"],[103,18,95,23,"useAuth"],[103,19,95,23],[103,21,95,26],[104,4,95,26,"_s2"],[104,7,95,26],[105,4,96,2],[105,11,96,9],[105,15,96,9,"useContext"],[105,21,96,19],[105,22,96,19,"useContext"],[105,32,96,19],[105,34,96,20,"AuthContext"],[105,45,96,31],[105,46,96,32],[106,2,97,0],[107,2,97,1,"_s2"],[107,5,97,1],[107,6,95,16,"useAuth"],[107,13,95,23],[108,2,95,23],[108,6,95,23,"_c"],[108,8,95,23],[109,2,95,23,"$RefreshReg$"],[109,14,95,23],[109,15,95,23,"_c"],[109,17,95,23],[110,0,95,23],[110,3]],"functionMap":{"names":["<global>","isProfileComplete","AuthProvider","useEffect$argument_0","checkAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;OCgB;CDG;OEc;YCI;GDE;EEE;GFY;EGE;GHO;EIE;GJO;EKE;GLG;EME;GNK;CFS;OSE;CTE"},"hasCjsExports":false},"type":"js/module"}]}