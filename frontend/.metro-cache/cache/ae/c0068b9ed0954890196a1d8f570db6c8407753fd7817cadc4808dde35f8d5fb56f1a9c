{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":39,"index":188}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isProfileComplete = isProfileComplete;\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  function isProfileComplete(u) {\n    if (!u) return false;\n    return !!(u.age && u.height_cm && u.weight_kg && u.gender && u.goal);\n  }\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    async function checkAuth() {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          const userData = await (0, _utilsApi.apiCall)('/auth/me');\n          setUser(userData);\n        }\n      } catch {\n        await AsyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    }\n    async function login(email, password) {\n      const data = await (0, _utilsApi.apiCall)('/auth/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      await AsyncStorage.default.setItem('auth_token', data.token);\n      setUser(data.user);\n    }\n    async function signup(name, email, password) {\n      const data = await (0, _utilsApi.apiCall)('/auth/signup', {\n        method: 'POST',\n        body: JSON.stringify({\n          name,\n          email,\n          password\n        })\n      });\n      await AsyncStorage.default.setItem('auth_token', data.token);\n      setUser(data.user);\n    }\n    async function logout() {\n      await AsyncStorage.default.removeItem('auth_token');\n      setUser(null);\n    }\n    async function refreshUser() {\n      try {\n        const userData = await (0, _utilsApi.apiCall)('/auth/me');\n        setUser(userData);\n      } catch {}\n    }\n    const profileComplete = isProfileComplete(user);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        profileComplete,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    return (0, _react.useContext)(AuthContext);\n  }\n});","lineCount":101,"map":[[13,2,17,0,"exports"],[13,9,17,0],[13,10,17,0,"isProfileComplete"],[13,27,17,0],[13,30,17,0,"isProfileComplete"],[13,47,17,0],[14,2,34,0,"exports"],[14,9,34,0],[14,10,34,0,"AuthProvider"],[14,22,34,0],[14,25,34,0,"AuthProvider"],[14,37,34,0],[15,2,95,0,"exports"],[15,9,95,0],[15,10,95,0,"useAuth"],[15,17,95,0],[15,20,95,0,"useAuth"],[15,27,95,0],[16,2,1,0],[16,6,1,0,"_react"],[16,12,1,0],[16,15,1,0,"require"],[16,22,1,0],[16,23,1,0,"_dependencyMap"],[16,37,1,0],[17,2,2,0],[17,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,42,2,0],[17,45,2,0,"require"],[17,52,2,0],[17,53,2,0,"_dependencyMap"],[17,67,2,0],[18,2,2,0],[18,6,2,0,"AsyncStorage"],[18,18,2,0],[18,21,2,0,"_interopDefault"],[18,36,2,0],[18,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,73,2,0],[19,2,3,0],[19,6,3,0,"_utilsApi"],[19,15,3,0],[19,18,3,0,"require"],[19,25,3,0],[19,26,3,0,"_dependencyMap"],[19,40,3,0],[20,2,3,39],[20,6,3,39,"_reactJsxDevRuntime"],[20,25,3,39],[20,28,3,39,"require"],[20,35,3,39],[20,36,3,39,"_dependencyMap"],[20,50,3,39],[21,2,17,7],[21,11,17,16,"isProfileComplete"],[21,28,17,33,"isProfileComplete"],[21,29,17,34,"u"],[21,30,17,48],[21,32,17,59],[22,4,18,2],[22,8,18,6],[22,9,18,7,"u"],[22,10,18,8],[22,12,18,10],[22,19,18,17],[22,24,18,22],[23,4,19,2],[23,11,19,9],[23,12,19,10],[23,14,19,12,"u"],[23,15,19,13],[23,16,19,14,"age"],[23,19,19,17],[23,23,19,21,"u"],[23,24,19,22],[23,25,19,23,"height_cm"],[23,34,19,32],[23,38,19,36,"u"],[23,39,19,37],[23,40,19,38,"weight_kg"],[23,49,19,47],[23,53,19,51,"u"],[23,54,19,52],[23,55,19,53,"gender"],[23,61,19,59],[23,65,19,63,"u"],[23,66,19,64],[23,67,19,65,"goal"],[23,71,19,69],[23,72,19,70],[24,2,20,0],[25,2,32,0],[25,8,32,6,"AuthContext"],[25,19,32,17],[25,35,32,20],[25,39,32,20,"createContext"],[25,45,32,33],[25,46,32,33,"createContext"],[25,59,32,33],[25,61,32,51],[25,62,32,52],[25,63,32,72],[25,64,32,73],[26,2,34,7],[26,11,34,16,"AuthProvider"],[26,23,34,28,"AuthProvider"],[26,24,34,29],[27,4,34,31,"children"],[28,2,34,71],[28,3,34,72],[28,5,34,74],[29,4,35,2],[29,10,35,8],[29,11,35,9,"user"],[29,15,35,13],[29,17,35,15,"setUser"],[29,24,35,22],[29,25,35,23],[29,28,35,26],[29,32,35,26,"useState"],[29,38,35,34],[29,39,35,34,"useState"],[29,47,35,34],[29,49,35,48],[29,53,35,52],[29,54,35,53],[30,4,36,2],[30,10,36,8],[30,11,36,9,"loading"],[30,18,36,16],[30,20,36,18,"setLoading"],[30,30,36,28],[30,31,36,29],[30,34,36,32],[30,38,36,32,"useState"],[30,44,36,40],[30,45,36,40,"useState"],[30,53,36,40],[30,55,36,41],[30,59,36,45],[30,60,36,46],[31,4,38,2],[31,8,38,2,"useEffect"],[31,14,38,11],[31,15,38,11,"useEffect"],[31,24,38,11],[31,26,38,12],[31,32,38,18],[32,6,39,4,"checkAuth"],[32,15,39,13],[32,16,39,14],[32,17,39,15],[33,4,40,2],[33,5,40,3],[33,7,40,5],[33,9,40,7],[33,10,40,8],[34,4,42,2],[34,19,42,17,"checkAuth"],[34,28,42,26,"checkAuth"],[34,29,42,26],[34,31,42,29],[35,6,43,4],[35,10,43,8],[36,8,44,6],[36,14,44,12,"token"],[36,19,44,17],[36,22,44,20],[36,28,44,26,"AsyncStorage"],[36,40,44,38],[36,41,44,38,"default"],[36,48,44,38],[36,49,44,39,"getItem"],[36,56,44,46],[36,57,44,47],[36,69,44,59],[36,70,44,60],[37,8,45,6],[37,12,45,10,"token"],[37,17,45,15],[37,19,45,17],[38,10,46,8],[38,16,46,14,"userData"],[38,24,46,22],[38,27,46,25],[38,33,46,31],[38,37,46,31,"apiCall"],[38,46,46,38],[38,47,46,38,"apiCall"],[38,54,46,38],[38,56,46,39],[38,66,46,49],[38,67,46,50],[39,10,47,8,"setUser"],[39,17,47,15],[39,18,47,16,"userData"],[39,26,47,24],[39,27,47,25],[40,8,48,6],[41,6,49,4],[41,7,49,5],[41,8,49,6],[41,14,49,12],[42,8,50,6],[42,14,50,12,"AsyncStorage"],[42,26,50,24],[42,27,50,24,"default"],[42,34,50,24],[42,35,50,25,"removeItem"],[42,45,50,35],[42,46,50,36],[42,58,50,48],[42,59,50,49],[43,6,51,4],[43,7,51,5],[43,16,51,14],[44,8,52,6,"setLoading"],[44,18,52,16],[44,19,52,17],[44,24,52,22],[44,25,52,23],[45,6,53,4],[46,4,54,2],[47,4,56,2],[47,19,56,17,"login"],[47,24,56,22,"login"],[47,25,56,23,"email"],[47,30,56,36],[47,32,56,38,"password"],[47,40,56,54],[47,42,56,56],[48,6,57,4],[48,12,57,10,"data"],[48,16,57,14],[48,19,57,17],[48,25,57,23],[48,29,57,23,"apiCall"],[48,38,57,30],[48,39,57,30,"apiCall"],[48,46,57,30],[48,48,57,31],[48,61,57,44],[48,63,57,46],[49,8,58,6,"method"],[49,14,58,12],[49,16,58,14],[49,22,58,20],[50,8,59,6,"body"],[50,12,59,10],[50,14,59,12,"JSON"],[50,18,59,16],[50,19,59,17,"stringify"],[50,28,59,26],[50,29,59,27],[51,10,59,29,"email"],[51,15,59,34],[52,10,59,36,"password"],[53,8,59,45],[53,9,59,46],[54,6,60,4],[54,7,60,5],[54,8,60,6],[55,6,61,4],[55,12,61,10,"AsyncStorage"],[55,24,61,22],[55,25,61,22,"default"],[55,32,61,22],[55,33,61,23,"setItem"],[55,40,61,30],[55,41,61,31],[55,53,61,43],[55,55,61,45,"data"],[55,59,61,49],[55,60,61,50,"token"],[55,65,61,55],[55,66,61,56],[56,6,62,4,"setUser"],[56,13,62,11],[56,14,62,12,"data"],[56,18,62,16],[56,19,62,17,"user"],[56,23,62,21],[56,24,62,22],[57,4,63,2],[58,4,65,2],[58,19,65,17,"signup"],[58,25,65,23,"signup"],[58,26,65,24,"name"],[58,30,65,36],[58,32,65,38,"email"],[58,37,65,51],[58,39,65,53,"password"],[58,47,65,69],[58,49,65,71],[59,6,66,4],[59,12,66,10,"data"],[59,16,66,14],[59,19,66,17],[59,25,66,23],[59,29,66,23,"apiCall"],[59,38,66,30],[59,39,66,30,"apiCall"],[59,46,66,30],[59,48,66,31],[59,62,66,45],[59,64,66,47],[60,8,67,6,"method"],[60,14,67,12],[60,16,67,14],[60,22,67,20],[61,8,68,6,"body"],[61,12,68,10],[61,14,68,12,"JSON"],[61,18,68,16],[61,19,68,17,"stringify"],[61,28,68,26],[61,29,68,27],[62,10,68,29,"name"],[62,14,68,33],[63,10,68,35,"email"],[63,15,68,40],[64,10,68,42,"password"],[65,8,68,51],[65,9,68,52],[66,6,69,4],[66,7,69,5],[66,8,69,6],[67,6,70,4],[67,12,70,10,"AsyncStorage"],[67,24,70,22],[67,25,70,22,"default"],[67,32,70,22],[67,33,70,23,"setItem"],[67,40,70,30],[67,41,70,31],[67,53,70,43],[67,55,70,45,"data"],[67,59,70,49],[67,60,70,50,"token"],[67,65,70,55],[67,66,70,56],[68,6,71,4,"setUser"],[68,13,71,11],[68,14,71,12,"data"],[68,18,71,16],[68,19,71,17,"user"],[68,23,71,21],[68,24,71,22],[69,4,72,2],[70,4,74,2],[70,19,74,17,"logout"],[70,25,74,23,"logout"],[70,26,74,23],[70,28,74,26],[71,6,75,4],[71,12,75,10,"AsyncStorage"],[71,24,75,22],[71,25,75,22,"default"],[71,32,75,22],[71,33,75,23,"removeItem"],[71,43,75,33],[71,44,75,34],[71,56,75,46],[71,57,75,47],[72,6,76,4,"setUser"],[72,13,76,11],[72,14,76,12],[72,18,76,16],[72,19,76,17],[73,4,77,2],[74,4,79,2],[74,19,79,17,"refreshUser"],[74,30,79,28,"refreshUser"],[74,31,79,28],[74,33,79,31],[75,6,80,4],[75,10,80,8],[76,8,81,6],[76,14,81,12,"userData"],[76,22,81,20],[76,25,81,23],[76,31,81,29],[76,35,81,29,"apiCall"],[76,44,81,36],[76,45,81,36,"apiCall"],[76,52,81,36],[76,54,81,37],[76,64,81,47],[76,65,81,48],[77,8,82,6,"setUser"],[77,15,82,13],[77,16,82,14,"userData"],[77,24,82,22],[77,25,82,23],[78,6,83,4],[78,7,83,5],[78,8,83,6],[78,14,83,12],[78,15,83,13],[79,4,84,2],[80,4,86,2],[80,10,86,8,"profileComplete"],[80,25,86,23],[80,28,86,26,"isProfileComplete"],[80,45,86,43],[80,46,86,44,"user"],[80,50,86,48],[80,51,86,49],[81,4,88,2],[81,24,89,4],[81,28,89,4,"_reactJsxDevRuntime"],[81,47,89,4],[81,48,89,4,"jsxDEV"],[81,54,89,4],[81,56,89,5,"AuthContext"],[81,67,89,16],[81,68,89,17,"Provider"],[81,76,89,25],[82,6,89,26,"value"],[82,11,89,31],[82,13,89,33],[83,8,89,35,"user"],[83,12,89,39],[84,8,89,41,"loading"],[84,15,89,48],[85,8,89,50,"profileComplete"],[85,23,89,65],[86,8,89,67,"login"],[86,13,89,72],[87,8,89,74,"signup"],[87,14,89,80],[88,8,89,82,"logout"],[88,14,89,88],[89,8,89,90,"refreshUser"],[90,6,89,102],[90,7,89,104],[91,6,89,104,"children"],[91,14,89,104],[91,16,90,7,"children"],[92,4,90,15],[93,6,90,15,"fileName"],[93,14,90,15],[93,16,90,15,"_jsxFileName"],[93,28,90,15],[94,6,90,15,"lineNumber"],[94,16,90,15],[95,6,90,15,"columnNumber"],[95,18,90,15],[96,4,90,15],[96,11,91,26],[96,12,91,27],[97,2,93,0],[98,2,95,7],[98,11,95,16,"useAuth"],[98,18,95,23,"useAuth"],[98,19,95,23],[98,21,95,26],[99,4,96,2],[99,11,96,9],[99,15,96,9,"useContext"],[99,21,96,19],[99,22,96,19,"useContext"],[99,32,96,19],[99,34,96,20,"AuthContext"],[99,45,96,31],[99,46,96,32],[100,2,97,0],[101,0,97,1],[101,3]],"functionMap":{"names":["<global>","isProfileComplete","AuthProvider","useEffect$argument_0","checkAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;OCgB;CDG;OEc;YCI;GDE;EEE;GFY;EGE;GHO;EIE;GJO;EKE;GLG;EME;GNK;CFS;OSE;CTE"},"hasCjsExports":false},"type":"js/module"}]}